{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket Details | Ticket System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Reuse your existing styles */
        :root {
            --primary-color:rgb(74, 74, 184);
            --accent-color: #4f8cff;
            --bg-color: #f9fbfc;
            --card-bg: #ffffff;
            --text-color: #333;
            --muted-text: #7f8c8d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .navbar {
      background-color: var(--primary-color);
      color: white;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .logo {
      font-size: 1.5rem;
      font-weight: bold;
    }
    
    .user-menu { position: relative; }
    
    .user-btn {
      background: none;
      border: none;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .user-btn i { font-size: 1rem; }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 100%;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      min-width: 180px;
      overflow: hidden;
      z-index: 100;
    }
    .ticket-card{
            background:rgb(233, 221, 221);
            border-left: 4px solid rgb(232, 29, 29);
            padding: 15px;
            margin:15px;
            border-radius: 6px;
            transition: all 0.3s ease;

    }
    .dropdown-menu a {
      color: var(--text-color);
      padding: 12px 16px;
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      transition: background 0.3s;
    }
    
    .dropdown-menu a:hover { background-color: #f0f0f0; }
    .user-menu:hover .dropdown-menu { display: block; }
    

        /* Add new styles for ticket details */
        .ticket-details-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 20px;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary-color);
            text-decoration: none;
            margin-bottom: 1rem;
            font-weight: 500;
        }

        .ticket-detail-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 25px;
            margin-bottom: 20px;
        }

        .ticket-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }

        .ticket-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--text-color);
        }

        .ticket-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 15px 0;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--muted-text);
        }

        .meta-item strong {
            color: var(--text-color);
        }

        .ticket-body {
            margin: 25px 0;
            line-height: 1.6;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .attachments {
            margin-top: 30px;
        }

        .attachment-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            border: 1px solid #eee;
            border-radius: 6px;
            margin-top: 10px;
        }

        .attachment-icon {
            font-size: 24px;
            color: var(--primary-color);
        }

        .attachment-info {
            flex-grow: 1;
        }

        .attachment-name {
            font-weight: 500;
        }

        .attachment-size {
            font-size: 12px;
            color: var(--muted-text);
        }

        .action-btns {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border: none;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-secondary {
            background-color: #e3f2fd;
            color: #1565c0;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .status-pending {
            background: #fff3e0;
            color: #e65100;
        }

        .status-solved {
            background: #e8f5e9;
            color: #2e7d32;
        }

        @media (max-width: 768px) {
            .ticket-header {
                flex-direction: column;
                gap: 15px;
            }
            
            .action-btns {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
      <nav class="navbar">
    <div class="logo">
      <span style="font-family: 'Brush Script MT', cursive; font-size: 1.2em;">Helvetas</span>
      <span style="margin-left: 8px;">Ticket System</span>
    </div>
    <div class="user-menu">
      <button class="user-btn">
        <i class="fas fa-user-circle"></i> Username
        <i class="fas fa-chevron-down"></i>
      </button>
      <div class="dropdown-menu">
        <a href="#"><i class="fas fa-list"></i> Active Requests</a>
        <a href="#"><i class="fas fa-user"></i> Request Profile</a>
        <a href="#"><i class="fas fa-sign-out-alt"></i> Logout</a>
      </div>
    </div>
  </nav>

    <div class="ticket-details-container">
        <a href="tickets.html" class="back-btn">
            <i class="fas fa-arrow-left"></i> Back to Tickets
        </a>
        
        <div class="ticket-detail-card">
            <div class="ticket-header">
                <h1 class="ticket-title">Printer not working in Office 203</h1>
                <span class="status-badge status-pending">
                    <i class="fas fa-clock"></i> Pending
                </span>
            </div>
            
            <div class="ticket-meta">
                <div class="meta-item">
                    <i class="fas fa-tag"></i>
                    <span>Ticket ID: <strong>#TKT-2023-001</strong></span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-user"></i>
                    <span>Submitted by: <strong>John Doe</strong></span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Created: <strong>15 Nov 2023</strong></span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-bolt"></i>
                    <span>Priority: <strong>Medium</strong></span>
                </div>
            </div>
            
            <div class="ticket-body">
                <h3 class="section-title">Description</h3>
                <p>The HP LaserJet printer in Office 203 is showing an "Out of Paper" error even though the tray is fully loaded. This started happening after the power outage yesterday. I've tried restarting the printer and checking all connections, but the error persists.</p>
                
                <h3 class="section-title">Additional Information</h3>
                <ul>
                    <li>Printer model: HP LaserJet Pro M404dn</li>
                    <li>Serial number: ABC123456789</li>
                    <li>First noticed the issue: Yesterday at 3:45 PM</li>
                    <li>Error message: "Tray 2 empty" (though tray is full)</li>
                </ul>
            </div>
            
            <div class="attachments">
                <h3 class="section-title">Attachments</h3>
                <div class="attachment-item">
                    <div class="attachment-icon">
                        <i class="fas fa-image"></i>
                    </div>
                    <div class="attachment-info">
                        <div class="attachment-name">printer_error.jpg</div>
                        <div class="attachment-size">2.4 MB â€¢ Uploaded 15 Nov 2023</div>
                    </div>
                    <button class="btn btn-secondary">
                        <i class="fas fa-download"></i> Download
                    </button>
                </div>
            </div>
            
            <div class="action-btns">
                
                <button class="btn btn-secondary">
                    <i class="fas fa-check"></i> Mark as Solved
                </button>
            </div>
        </div>
    </div>

    <script>
        // Simple back button functionality
        document.querySelector('.back-btn').addEventListener('click', function(e) {
            e.preventDefault();
            // In a real app, this would navigate back to the tickets list
            window.location.href = 'tickets.html';
        });
        
        // Action buttons functionality
        document.querySelectorAll('.btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if (this.textContent.includes('Send Message')) {
                    alert('Messaging interface would open here');
                } else if (this.textContent.includes('Mark as Solved')) {
                    alert('Ticket would be marked as solved');
                }
            });
        });
    </script>
</body>
</html>